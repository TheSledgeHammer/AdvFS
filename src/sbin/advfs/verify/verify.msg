$ 
$ =======================================================================
$   (c) Copyright Hewlett-Packard Development Company, L.P., 2008
$
$   This program is free software: you can redistribute it and/or modify
$   it under the terms of version 2 the GNU General Public License as
$   published by the Free Software Foundation.
$   
$   This program is distributed in the hope that it will be useful,
$   but WITHOUT ANY WARRANTY; without even the implied warranty of
$   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
$   GNU General Public License for more details.
$   
$   You should have received a copy of the GNU General Public License
$   along with this program.  If not, see <http://www.gnu.org/licenses/>.
$
$ =======================================================================
$
$
$ HISTORY
$ 
$ @(#)$RCSfile: verify.msg,v $ $Revision: 1.1.100.1 $ (DEC) $Date: 2001/12/14 16:51:37 $
$ 

$ /*
$  * X/OPEN message catalogue
$  */

$quote "

$set 1
1	"exiting...\n"
2	"+++ Domain verification +++\n\n"
3	"%s: unable to get info for domain '%s'\n"
4	"    error: %d, %s\n"
5	"Domain Id %08x.%08x\n"
6	"%s: can't allocate memory for disk index array\n"
7	"%s: unable to get the volume list\n"
8	"%s: can't allocate memory for disk header array\n"
9	"\nChecking disks ...\n\n"
10	"Checking mcell list ...\n"
11      "\nChecking that all in-use mcells are attached to a file's metadata mcell chain...\n"
12	"\nChecking tag directories ...\n"
13	"\n+++ Fileset verification +++\n\n"
14	"%s: unable to get volume's %d properties\n"
15	"Checking storage allocated on disk %s\n"
16	"%s: can't open '%s'\n"
17	"    errno: %d, %s\n"
18	"%s: can't get '%s' bitfile parameters\n"
19	"%s: can't allocate memory for bmt buffer\n"
20	"%s: can't allocate memory for mcell header array\n"
21	"%s: bad bmt read\n"
22	"    bytes count - real: %d, expected: %d\n"
25	"set bitmap\n"
29	"    disk: %d, bmt page: %d\n"
30	"    real page id: %d, expected page id: %d\n"
31	"%s: bad file system version\n"
32	"    version found: %d\n"
33	"%s: mcell appears free but has\n"
34	"    a bad next disk index and/or link segment\n"
35	"    disk: %d, mcell id (page.cell): %d.%d\n"
36	"    Setting next disk index to nil.\n"
37	"    Setting link segment to zero.\n"
38	"%s: tag is non-nil but set tag is nil\n"
39	"%s: tag is nil but set tag is non-nil\n"
40	"    Setting next mcell id to nil.\n"
41	"    Setting tag to nil.\n"
42	"    Setting set tag to nil.\n"
43	"    next mcell id (page.cell): %d.%d\n"
44	"    next disk index: %d\n"
45	"    link segment: %d\n"
46	"    tag: %d.%d (0x%08x.0x%08x)\n"
47	"    set tag: %d.%d (0x%08x.0x%08x)\n"
48	"%s: the mcell is not free but is on the free mcell list\n"
49	"    prev mcell id (page.cell): %d.%d\n"
50	"%s: the next free mcell is not on this page\n"
51	"%s: bad free mcell count\n"
52	"    free mcell count - real: %d, expected: %d\n"
53	"%s: record extends past end of mcell\n"
54	"%s: no room for trailing nil record header\n"
55	"    record #: %d\n"
56	"    record type: %d\n"
57	"    record size: %d\n"
58	"    Setting record type to nil.\n"
59	"    Setting record size to %d.\n"
60	"BOGUS"
61	"%s: bad bitfile state - %s\n"
62	"%s: unknown record type\n"
63	"    record type - %d\n"
64	"%s: bad record size\n"
65	"    record size - real: %d, expected: %d\n"
66	"%s: mcell count breakdown\n"
67	"Total"
68	"%s: can't get %s bitfile parameters\n"
69	"%s: can't allocate memory for bitmap file buffer\n"
70	"%s: can't allocate memory for inmem bitmap\n"
71	"%s: can't allocate memory for inmem file tags\n"
72	"%s: can't allocate memory for inmem set tags\n"
73	"Removed bad file tag %d.%d\n"
74	"Can't remove bad bf, root not open\n"
75	"%s: extent record not found in primary mcell\n"
76	"%s: extent record found but no extents\n"
77	"    count: %d\n"
78	"page %d in xtnt slots %d and %d, tag %d, vd%d\n"
81	"%s: found tag for invalid stg map index %d\n"
82	"    tag = 0x%08x.%04x, ino = %d\n    set tag = 0x%08x.%04x\n"
83	"Can't delete; special file\n"
85	"%s: double storage cluster allocation\n"
86	"    disk: %d, mcell id (page.cell): %d.%d tag 0x%08x.%04x ino %d\n"
87	"    first allocation file tag 0x%08x "
88	"set tag 0x%08x\n"
89	"    extent blocks - offset : %u, count: %u\n"
90	"    extent clusters - start: %u, end: %u\n"
91	"    bitmap clusters - start: %u, end: %u\n"
92	"    bits to set:      0x%08x\n"
93	"    bits already set: 0x%08x\n"
96	"    disk: %d, mcell id (page.cell): %d.%d tag.num 0x%08x.%04x ino %d\n"
98	"%s: entire extent exceeds bitmap\n"
99	"%s: end of extent exceeds bitmap\n"
100	"    block offset: %u, block count: %u\n"
101	"    bitmap clusters - start: 0, end: %u\n"
102	"%s: can't get disk %d's bitfile parameters\n"
103	"%s: bad stg bitmap read\n"
104	"%s: bitmap mismatch\n"
105	"    disk     : %d\n"
106	"    map index: %d\n"
107	"    clusters - start: %u, end: %u\n"
108	"    real     : 0x%08x\n"
109	"    expected : 0x%08x\n"
110	"Bitmap page = %d\n"
111	"Rewriting page %d of the SBM.\n"
112	"%s: can't allocate memory for expanded mcell ptr tbl\n"
113	"%s: can't insert set tag\n"
114	"%s: can't allocate memory for tag header\n"
115	"%s: can't allocate memory for tag hdr's mcell ptr list\n"
116	"%s: can't allocate memory for expanded set table\n"
117	"%s: can't allocate memory for new set table\n"
118	"%s: can't get bitfile set params\n"
119	"%s: can't allocate memory for set's tag hash table\n"
120	"%s: bad bmt lseek\n"
121	"%s: can't find primary extent rec\n"
122	"%s: no primary mcell\n"
123     "Metadata corruption in the BMT of disk %d:  found mcell labelled as belonging\nto file with tag %d in fileset \"%s\" but which is not attached to\nthe metadata mcell chains for that file: \n"
124	"%s: position field already set\n"
125	"%s: mcell ptr not found in tag's mcell ptr list\n"
127	"    type: %s"
128	"%s: can't allocate memory for root tag dir file buffer\n"
129	"%s: bad root tag dir read\n"
130	"%s: root tag dir lseek\n"
131	"%s: Found a reference to a file that cannot be found in any directory\n"
133	"%s: can't allocate memory for tag dir file buffer\n"
134	"%s: bad tag dir read\n"
135	"%s: uninitialized page > next page to allocate\n"
136	"    uninitialized page: %d, nextpage: %d\n"
137	"%s: bad tag dir lseek\n"
138	"%s: bad free tag count\n"
139	"    real count: %d, expected count: %d\n"
140	"%s: bad tag dir current page\n"
141	"    real current page: %d, expected current page: %d\n"
142	"%s: bad next free tag map pointer\n"
143	"    tag directory page: %d\n"
144	"    next free tag: %d, valid range: 0-%d\n"
145	"%s: tag is both dead and in use "
146	"%s: bad primary mcell ptr\n"
147	"    real - disk: %d, mcell id (page.cell): %d.%d\n"
148	"    expected - disk: %d, mcell id (page.cell): %d.%d\n"
149	"%s: in-use tag found but in-mem tag hdr does "
150	"not point to a primary mcell\n"
151	"%s: in-use on-disk clone tag's set tag does "
152	" not match original tag's set tag\n"
153	"        <clone tag>\n"
154	"        <original tag>\n"
155	"%s: in-use on-disk clone tag does not match "
156	" original's tag\n"
157	"%s: in-use on-disk clone tag does not point to "
158	"in-mem primary mcell\n"
159	"        <mcell hdr info>\n"
160	"    mcell type: %s\n"
161	"%s: in-use on-disk tag does not have matching in-mem "
162	"tag hdr\n"
163	"%s: in-use on-disk tag does not have an in-mem "
164	"set tag hdr\n"
165	"%s: bad allocated tag count\n"
166	"%s: bad dead tag count\n"
167	"%s: bad total tag count\n"
168	"%s: bad free tag sequence number\n"
169	"    tag map entry: %d\n"
170	"    seqNo: 0x%04x (%d)\n"
171	"    vdIndex: %d\n"
172	"    bfMCId (page.cell):  %d.%d\n"
173	"    unused:  %d\n"
174	"    nextMap: %d\n"
175	"%s: error locking '%s'; [%d] %s\n"
176	"%s: can't get set info for domain '%s'\n"
177	"%s: error = %s\n"
178	"mount other than root in root_domain\n"
179	"Error mounting %s: %d\n"
180	"All filesets must be unmounted.\nIf this is an active domain, use the -a option.\n"
181	"lseek"
182	"Checking frag file headers ...\n\n"
183	"open()"
184	"fstat()"
185	"advfs_xtntmap_open() error; %s\n"
186	"Checking frag file type lists ...\n\n"
187	"invalid frag group, pg %d\n"
188	"read error: fragPg %d, errno %d\n"
189	"\n--\ngroup pg = %6d, type = %d\n"
190	"      nextFree = %5d, lastFree = %5d, numFree = %5d\n\n "
191	"\n** inconsistency found **\n"
192	"** group header indicates %d free frags"
193	", free list has %d free frag(s)\n"
194	"** searching for additional free frags...\n"
195	"\t** possible free frag: %5d, nextFree = %5d\n"
196	"\t\tfrag = %5d, fragPg = %d, fragSlot = %d\n"
197	"** search found %d possible free frag(s)\n"
198	"  +++++ Fileset %s +++++\n\n"
199	"%s: can't allocate memory\n"
200	"ino = %8d, dirLinks = %4u, tagLinks = %4d\n"
201	"Found possible lost file: ino/tag = %d\n"
202	"%s/lost+found"
203	"Creating %s\n"
204	"%s: unable to create %s; [%d] %s\n"
205	"Deleting file %s\n"
206	"%s: File %s not deleted, exists\n"
207	"%s: File %s not deleted %s\n"
209	"%s/lost+found/file_%08d"
210	"Creating symlink %s @-> %s\n"
211	"Symlink %s @-> %s already exists\n"
212	"%s: unable to create %s @-> %s; [%d] %s\n"
213	"%s: bad link count for ino/tag %d\n"
214	"%s: link count = %d, expected %d\n"
215	"%s: out of memory in inode_tbl_dir_link()\n"
216	"%s: can't get stats for %s; [%d] %s\n"
217	"%s: out of memory in inode_tbl_tag_link()\n"
218	"%s: error accessing directory <%s>; [%d] %s\n"
219	"ino = %8d, size = %10d, mode = 0%06o %s/\n"
220	"%s: <%s> not a directory\n"
221	"%s: warning, encountered a fileset mounted on <%s>\n"
222	"%s: mount points will appear as lost files\n"
223	"%s: unable to open directory <%s>; [%d] %s\n"
224	"%s: POTENTIAL INCOMPLETE UNLINK <%s>; file does not exist\n"
225	"%s: unlink completed\n"
226	"%s: directory entry verified as okay\n"
227	"%s: ensure that the fileset is inactive when running %s\n"
228	"%s: incomplete unlink not fixed; error = %s\n"
229	"%s: incomplete unlink not fixed; use '-f' to fix it\n"
230	"%s: unable to get info for file <%s>; [%d] %s\n"
231	"Can't open %s to check frag\n"
232	"file %s fragId %d type %d\n"
233	"The fileset frag file group header type, %d, does not match the frag type that\nfile %s expected, %d\n.  Either %s or\nthe fileset frag file may be corrupted."
234	"The frag in slot %d of page %d is on the free list of frags but the file\nwith tag %d is using it!  This may result in loss of user data for this file.\n"
235	"ino = %8d, size = %10d, mode = 0%06o %s\n"
236	"%s: <%s> unknown file type\n"
237	"Could not open dir %s in check_dir\n"
238	"Error in dirRec on page %d; %s is corrupted\n"
239	"Found zero entry size on page %d; %s is corrupted\n"
240	"Found entry size too large on page %d; %s is corrupted\n"
241	"Found bad tag match on page %d; %s is corrupted\n"
242	"ino = %8d, size = %10d, mode = 0%06o\n"
243	"%s: error from advfs_tag_stat [%d] \n"
244	"%s: [-f | -d] [-v | -q] mount-point-dir\n"
245	"Scanning directories and files ...\n"
246	"Scanning tags ...\n"
247	"Searching for lost files ...\n"
USAGE	"usage: %s [-l | -d] [-v | -q] [-t] [-a | -f] [-F] [-D] domainName\n"
249	"All filesets in the domain must be unmounted.\n"
250	"-l  Creates a symbolic link to a lost file in the /???/lost+found directory.\n"
251     "-d  Deletes lost files.\n"
252	"-v  Verbose.\n"
253     "-q  Quiet.\n"
254	"-t  Displays the mcell totals.\n"
255	"-a  Check an active domain.  All filesets in the domain must be mounted.\n"
256	"malloc failed for badSBMIndex\n"
257	"failed to umount %s\n"
258	"failed to rmdir %s\n"
259	"%s: can't allocate memory for mount_point array\n"
260	"%s: error mktemp failed\n"
261	"%s: bad free tag nextMap number %d\n"
262	"\nPermission denied - user must be root to run %s.\n\n"
263     "bitmap xor error: page %d, (index %d-%d) on disk %08x, calculated %08x\n"
264     "-F  Use this option with caution; runs the verify command without recovery.\n"
265     "Overlapping frag data corruption detected in:\n\tFile: %s\n\tPage: %d\n"
266     "Temporary files created representing the two versions of\n"
267     "page %d of file '%s'.  The temporary file with the .frag\n"
268     "Refer to the AdvFS documentation for a description\n"
270     "of how to use these temporary files to recover\n"
271     "from this overlapping frag corruption problem.\n"
272     "Could not enable recovery of %s\n"
273     "Run verify -f on this domain to enable recovery of this data.\n"
274     "Could not get params for vol %d: sts = %d\n"
275     "Could not get raw device name for %s\n"
276     "Could not open %s\n"
277     "%s already exists.\n"
278     "Remove or rename this file and run verify -f again.\n"
279     "Cannot stat %s\n"
280     "Could not create %s\n"
281     "Could not read page %d of %s\n"
282     "Could not write to %s\n"
283	"%s : error mkdir failed on %s : %d\n"
284     "Root fileset must be writeable.\n"
285     "setrlimit failed\n"
286     "Lseek failed: could not fix SBM.\n"
287     "Write failed: could not fix SBM.\n"
288	"%s: %s is not the root domain.\n"
289	"%s: unable to retrieve statfs information.\n"
290     "%s: cannot execute. Another AdvFS command is currently claiming exclusive use of the specified domain.\n"
291     "%s: error unlocking '%s'; [%d] %s\n"
292     "%s: BSR_XTNTS record at first slot in mcell; possible data corruption."
293     "Corruption in frag file type list for frag type %d\n"
294     "Wrong type of frag in frag group list.  Expected %d but found %d\n"
295     "Found incorrect lastFreeGrp field.  Expected %d but found %d\n"
296     "Cannot read fileset frag file page %d to cross check frag information\nfor file %s.\nEither %s \nor the fileset frag file may be corrupted.\n"
297     "<MOUNT_POINT>"
298     "Found %d lost files out of %d checked.\n"
299     "Found %d files with incorrect link count out of %d checked.\n"
300	"Searched %d tags, no lost files found.\n\n"
301	"Scanned a total of %d tags.\n\n"
302	"Scanned %d directories.\n\n"
303     "Found corrupted BMT metadata for tag %d in fileset %d.\nThere are %d extent descriptors in mcell %d of page %d of the BMT\nbut there should be no more than %d.\n"
304 "%s: there are no filesets in domain %s\n"
ONDISK  "%s: This utility can not process the on-disk structures on this system\n"
BADFREE "BMT page %d is on the mcell free list but has no free mcells.\n"
BADBMT  "The BMT metadata file is corrupted!\n"
FIXUP1  "To avoid a crash, give the following commands:\n"
FIXUP2  "    dbx -k /vmunix\n"
FIXUP3  "    (dbx) a AdvfsFixUpBMT=1\n"
ALLOC1	"%s: can't allocate memory for fileset mounted array\n"
ALLOC2	"%s: can't allocate memory for fileset mount_point array\n"
ALLOC3	"%s: can't allocate memory for fileset name\n"
FRAGLOOP "Loop found in list of free frags on page %d of the frags file.\nFrags metadata file is corrupted!\n\n"
BADFILESET "Fileset is corrupted!  Attempts to use this fileset may result in\nsystem crashes or user data loss!\n\n"
CONT_267B	"extension contains the readable page; the file with the\n"
CONT_267C	".ext extension contains the hidden page.\n"
HARDLINK	"Creating hardlink %s @-> %s\n"
LINK_EXISTS	"Link %s @-> %s already exists\n"
LINK_DIR	"Unable to hardlink a directory.\n"
ZEROPAGE "Found zero-filled fileset frag file page %d while cross-checking\nfrag information for file %s.\nEither %s \nor the fileset frag file may be corrupted.\n"
BADSELF  "Corruption in frag file type list for frag type %d\n"
BADSETID "Expected to find set ID %08x.%08x.%x.%04x but found set ID %08x.%08x.%x.%04x\n"
FIXFLAG	"-f  Attempt to fix any problems found.\n"
DUALFLAG "-D  Check a dual mounted domain.\n"
ACTIVE_WARNING_0 "Most likely this is from file activity on the active domain.\n\n"
ACTIVE_WARNING_1 "Found %d tags which had an invalid stg map index.\n"
ACTIVE_WARNING_2 "\nFound %d possible corrupted SBM pages.\n"
ACTIVE_WARNING_3 "\nFound %d references to files that cannot be found in any directory.\n"
MEMORY_USED "Unable to malloc an additional %ld bytes, currently using %ld\n"
CONT_264    "    (similar to running the mount command with -d option).\n"
BAD_WRITE       "%s: bad write\n"
FIXED_TAGPG_HDR   "%s: Corrected on-disk error on page %d of the tag file.\n"
TOOMANYSETS	"cannot verify domains with more than %d filesets.\n"
NEW234	"The frag in slot %d of page %d is on the free list of frags but the file\nwith tag %d is using it!  This may result in loss of user data for this file.\n"
ROOTMNT	"%s: %s is not the root domain.\n"
STATFS	"%s: unable to retrieve statfs information.\n"
BADSETTAG     "Metadata corruption in the BMT of disk %d:  found mcell labelled as belonging\nto file with tag %d in fileset %d but which is not attached to\nthe metadata mcell chains for that file: \n"
BADFRAG0 "The kernel has noted this inconsistency and has removed the frag group from use.\n"
BADFRAG1    "NOTE: This inconsistency in itself is NOT critical and AdvFS can\n"
BADFRAG2    "      work around it.  It does not indicate potential loss of\n"
BADFRAG3    "      data or metadata, nor will it cause a system crash.\n"
BADFRAG4    "      If no errors of other types are reported on this domain, \n"
BADFRAG5    "      it is not necessary to take corrective action.  The domain\n"
BADFRAG6    "      may continue to be used safely.\n"
SSERROR  "%s: vfast status not available on domain %s; %s\n"
